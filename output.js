(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),RTTY=function(){function t(e){_classCallCheck(this,t),e||(e=this.getContext()),this.context=e,this.timePerBit=1/45.45,this.spaceFreq=2295,this.markFreq=2125,this.letters={"\x00":"00000"," ":"00100",Q:"10111",W:"10011",E:"00001",R:"01010",T:"10000",Y:"10101",U:"00111",I:"00110",O:"11000",P:"10110",A:"00011",S:"00101",D:"01001",F:"01101",G:"11010",H:"10100",J:"01011",K:"01111",L:"10010",Z:"10001",X:"11101",C:"01110",V:"11110",B:"11001",N:"01100",M:"11100","\r":"01000","\n":"00010"},this.figures={"\x00":"00000"," ":"00100",1:"10111",2:"10011",3:"00001",4:"01010",5:"10000",6:"10101",7:"00111",8:"00110",9:"11000",0:"10110","â€“":"00011",Bell:"00101",$:"01001","!":"01101","&":"11010","#":"10100","'":"01011","(":"01111",")":"10010",'"':"10001","/":"11101",":":"01110",";":"11110","?":"11001",",":"01100",".":"11100","\r":"01000","\n":"00010"},this.figureShift="11011",this.letterShift="11111"}return _createClass(t,[{key:"getContext",value:function(){try{return window.AudioContext=window.AudioContext||window.webkitAudioContext,new AudioContext}catch(t){alert("Sorry, you have no web audio support.")}}},{key:"convertToBinary",value:function(t){var e=[];t=t.toUpperCase();for(var n=!0,r=0;r<t.length;r++){var i=t.charAt(r);this.letters[i]?(n||(e.push(this.letterShift),n=!0),e.push(this.letters[i].split("").reverse().join(""))):this.figures[i]&&(n&&(e.push(this.figureShift),n=!1),e.push(this.figures[i].split("").reverse().join("")))}return e}},{key:"encode",value:function(t){for(var e=8*Math.floor(44100/45.45)*(t.length+4),n=this.convertToBinary(t),r=this.context.createBuffer(1,e,44100),i=r.getChannelData(0),a=Math.floor(44100/45.45),s="111111111111111"+n.reduce(function(t,e){return t+"0"+e+"11"},"")+"111111111111111",o=0,u=0,h=0;h<s.length;h++){var l=s[h],c="1"===l?this.markFreq:this.spaceFreq,f=2*c*Math.PI/44100,v=0;for(v=0;a>v;v++)i[o+v]=Math.sin(u),u+=f;o+=v}return r}},{key:"writeUTFBytes",value:function(t,e,n){for(var r=n.length,i=0;r>i;i++)t.setUint8(e+i,n.charCodeAt(i))}},{key:"writeWav",value:function(t){var e=44100,n=new ArrayBuffer(144+2*t.length),r=new DataView(n),i=t.getChannelData(0);this.writeUTFBytes(r,0,"RIFF"),r.setUint32(4,44+t.length,!0),this.writeUTFBytes(r,8,"WAVE"),this.writeUTFBytes(r,12,"fmt "),r.setUint32(16,16,!0),r.setUint16(20,1,!0),r.setUint16(22,1,!0),r.setUint32(24,e,!0),r.setUint32(28,2*e,!0),r.setUint16(32,2,!0),r.setUint16(34,16,!0),this.writeUTFBytes(r,36,"data"),r.setUint32(40,t.length,!0);for(var a=t.length,s=44,o=0;a>o;o++)r.setInt16(s,32767*i[o],!0),s+=2;var u=new Blob([r],{type:"audio/wav"}),h=(window.URL||window.webkitURL).createObjectURL(u),l=window.document.createElement("a");l.href=h,l.download="output.wav";var c=document.createEvent("Event");c.initEvent("click",!0,!0),l.dispatchEvent(c)}}]),t}();exports["default"]=RTTY,module.exports=exports["default"];
},{}],2:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function go(e,t){var n=new AudioContext,r=new _jsRtty2["default"](n);t.getElementById("rttyEncode").addEventListener("click",function(e){e.preventDefault();var u=t.getElementById("rttyChars"),a=r.encode(u.value),o=n.createBufferSource();o.buffer=a,o.connect(n.destination),o.start()},!0),t.getElementById("rttyDownload").addEventListener("click",function(e){e.preventDefault();var n=t.getElementById("rttyChars"),u=r.encode(n.value);r.writeWav(u)},!0)}var _jsRtty=require("./js/rtty"),_jsRtty2=_interopRequireDefault(_jsRtty);go(window,document);
},{"./js/rtty":1}]},{},[2]);
